# golang的Mutex

### 公平性
- 给新人机会
  - 新来的goroutine 会先自旋几次，这样的好处就是不用上下文切换，直接能抢到锁了 
- 防止锁饥饿，加入了两种模式，饥饿和正常；当达到以下条件之后，会自动切换当前锁的状态
  - 队列中goroutine等待耗时超过一定阈值，切换到饥饿模式, 提高饥饿goroutine的优先级优先获取到锁
  - 当等待队列中元素不多，又回切换为正常模式